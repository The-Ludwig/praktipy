% unverzichtbare Mathe-Befehle
\usepackage{amsmath}
% viele Mathe-Symbole
\usepackage{amssymb}
% Erweiterungen für amsmath
\usepackage{mathtools}
% Fonteinstellungen
\usepackage{fontspec}
% Latin Modern Fonts werden automatisch geladen

\usepackage[
  math-style=ISO,    % ┐
  bold-style=ISO,    % │
  sans-style=italic, % │ ISO-Standard folgen
  nabla=upright,     % │
  partial=upright,   % ┘
  warnings-off={           % ┐
    mathtools-colon,       % │ unnötige Warnungen ausschalten
    mathtools-overbracket, % │
  },                       % ┘
]{unicode-math}

% traditionelle Fonts für Mathematik
\setmathfont{Tex Gyre Pagella Math}
\setmathfont{XITS Math}[range={scr, bfscr}]
\setmathfont{XITS Math}[range={cal, bfcal}, StylisticSet=1]

% Zahlen und Einheiten
\usepackage[
  locale=DE,                 % deutsche Einstellungen
  separate-uncertainty=true, % immer Fehler mit \pm
  per-mode=reciprocal,       % ^-1 für inverse Einheiten
%  output-decimal-marker=,,   % . statt , für Dezimalzahlen
]{siunitx}

% chemische Formeln (in plots? - ich denke nicht...)
% \usepackage[
%   version=4,
%   math-greek=default, % ┐ mit unicode-math zusammenarbeiten
%   text-greek=default, % ┘
% ]{mhchem}

% schöne Brüche im Text
\usepackage{xfrac}

% sizing ()
\usepackage{expl3}
\usepackage{xparse}
\usepackage{mleftright}
\ExplSyntaxOn

\let\ltext=\l
\RenewDocumentCommand \l {}
{
    \TextOrMath{ \ltext }{ \mleft }
}
\let\raccent=\raccent\RenewDocumentCommand \r {}
{
    \TextOrMath{ \raccent }{ \mright }
}
\NewDocumentCommand \dif {m}
{
    \mathinner{\symup{d} #1}
}

\ExplSyntaxOff